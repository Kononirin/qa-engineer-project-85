- summary: |
    Проверка создания новой битвы c ботом
  requirement: |
    Пользователь должен иметь возможность создать битву
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With a bot"
    - Нажать кнопку "Ceate a battle"
  expected-result: |
    Создана новая битва. Пользователь видит задачу, экран для решения, экран чата с соперником, экран решения соперника. 

- summary: |
    Проверка присоединения к существующей битве
  requirement: |
    Пользователь должен иметь возможность присоединиться к существующей битве
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/. В системе существует как минимум одна активная битва, ожидающая соперника.
  steps:
    - Нажать кнопку "Join a battle"
    - В открывшемся модальном окне нажать на кнопку "Fight"
  expected-result: |
    Пользователь успешно присоединился к битве. Пользователь видит задачу, экран для решения, экран чата с соперником, экран решения соперника.

- summary: |
    Проверка возвращения к битве, к которой уже присоединен
  requirement: |
    Пользователь должен иметь возможность вернуться к битве, которую он покинул
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/. В системе существует как минимум одна активная битва, ожидающая соперника.
  steps:
    - Нажать кнопку "Join a battle"
    - В открывшемся модальном окне нажать на кнопку "Fight"
    - В открывшемся экране битвы в правом верхнем углу нажать кнопку "Back to home"
    - Нажать кнопку "Join a battle"
    - В открывшемся модальном окне нажать на кнопку "Continue"
  expected-result: |
    Пользователь успешно присоединился к битве. Пользователь видит задачу, экран для решения, экран чата с соперником, экран решения соперника.

- summary: |
    Проверка выбора языка программирования из списка
  requirement: |
    Пользователь должен иметь возможность выбрать свой язык программирования из списка языков
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    Язык программирования: Python
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With a bot"
    - Нажать кнопку "Ceate a battle"  
    - В выпадающем списке выбрать язык программирования Python
  expected-result: |
    В поле выбора языка отображается выбранный язык "Python". Экран для решения задачи подстраивается под синтаксис выбранного языка.

- summary: |
    Проверка игры с другим человеком
  requirement: |
    Пользователь должен иметь возможность играть с другим человеком
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With other user"
    - Нажать кнопку "Ceate a battle"
    - Ввести корректное решение задачи 
    - Нажать на кнопку "Run"
  expected-result: |
    Отображается модальное окно "Победа" или "Проигрыш"

- summary: |
    Проверка игры с ботом
  requirement: |
    Пользователь должен иметь возможность играть с ботом
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With a bot"
    - Нажать кнопку "Ceate a battle"
    - Ввести корректное решение задачи 
    - Нажать на кнопку "Run"
  expected-result: |
    Отображается модальное окно "Победа" или "Проигрыш"

- summary: |
    Проверка отправки сообщения сопернику во время битвы
  requirement: |
    Пользователь должен иметь возможность общаться с соперником
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    Сообщение для соперника: "Good luck"
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With other user"
    - Нажать кнопку "Ceate a battle"
    - Ввести текст сообщения в поле ввода чата
    - Нажать кнопку "Send"
  expected-result: |
    Сообщение "Good luck" отображается в чате битвы.

- summary: |
    Проверка отображения результатов запуска тестов
  requirement: |
    Пользователь должен иметь возможность видеть результаты запуска тестов
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    - название задачи rect_area
    - язык программирования nodeJS
    - решение задачи 
    - const _ = require("lodash");
    - const R = require("rambda");
    - const solution = (width, length) => {
    - return width * length;
    - };
    - module.exports = solution;
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With a bot"
    - В открывшемся модальном окне выбрать задачу с названием из предусловия
    - Нажать кнопку "Ceate a battle"
    - Выбрать язык программирования из предусловия
    - Ввести корректное решение задачи из предусловия
    - Нажать кнопку "Run"
    - Закрыть модальное окно с победным поздравлением
  expected-result: |
    Над окном экраном с решением отображается экран с задачей, открыта вкладка "OUTPUT". 
    Во вкладке "OUTPUT" отображаются результаты запуска тестов. Все тесты имеют плашку "success".

- summary: |
    Проверка отображения появления модального окна с победным поздравлением
  requirement: |
    Пользователь должен иметь возможность видеть сообщение о победе
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    - название задачи rect_area
    - язык программирования nodeJS
    - решение задачи 
    - const _ = require("lodash");
    - const R = require("rambda");
    - const solution = (width, length) => {
    - return width * length;
    - };
    - module.exports = solution;
  steps:
    - Нажать кнопку "Create a battle"
    - В открывшемся модальном окне выбрать плашку "With a bot"
    - В открывшемся модальном окне выбрать задачу с названием из предусловия
    - Нажать кнопку "Ceate a battle"
    - Выбрать язык программирования из предусловия
    - Ввести корректное решение задачи из предусловия
    - Нажать кнопку "Run"
  expected-result: |
    По центру отображается модальное окно с изображением динозавра, заголовком "Wohoo, you're Champion" и кнопкой GG.
    Звучит музыкальный отрывок. 

- summary: |
    Проверка отображения сообщения о проигрыше
  requirement: |
    Пользователь должен иметь возможность видеть сообщение о проигрыше
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    -
  steps:
    - Нажать на кнопку "Join a battle"
    - В открывшемся модальном окне нажать на кнопку "Fight"
    - Не решать свою задачу
    - Дождаться когда соперник решит задачу	
  expected-result: |
    По центру отображается модальное окно с изображением динозавра, заголовком "If you read this you've lost the game" и кнопкой "I'll be back".
    Звучит музыкальный отрывок. 

- summary: |
    Проверка отображения списка участников в онлайне
  requirement: |
    Пользователь должен иметь возможность видеть список участников в онлайне
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    -
  steps:
    - Просколлить страницу вниз до конца
  expected-result: |
    Отображается список "Online players", в котором есть разделы: "Playing", "Lobby", "Online"

- summary: |
    Проверка присоединения к существующему клану
  requirement: |
    Пользователь должен иметь возможность присоединиться к существующему клану участников
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/. Существует клан, открытый для вступления.
  test-data: |
    Название клана: "Test"
  steps:
    - Нажать на аватарку
    - В списке меню выбрать пункт "Settings"
    - В поле "Your clan" вставить название клана "Test"
    - Нажать кнопку "Save"
    - Перейти по ссылке "clan list"
    - Найти название клана, куда был добавлен пользователя
    - Нажать на кнопку "Show"
  expected-result: |
    Пользователь сразу принят в клан. На странице клана в списке членов клана указан добавленный пользователь. На главной странице под аватаркой отображается название клана. 

- summary: |
    Проверка создания нового клана
  requirement: |
    Пользователь должен иметь возможность создать новый клан участников
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/. Пользователь не добавлен ни в один клан. 
  test-data: |
    Название клана: "Test" + "текущая дата"
  steps:
    - Нажать на аватарку
    - В списке меню выбрать пункт "Settings"
    - В поле "Your clan" вставить название клана "Test" + "текущая дата"
    - Нажать кнопку "Save"
    - Перейти по ссылке "clan list"
    - Проскроллить страницу до конца	
  expected-result: |
    В списке кланов отображается последняя запись с созданным кланом. На главной странице под аватаркой отображается название клана. 

- summary: |
    Проверка просмотра рейтинга участников
  requirement: |
    Пользователь должен иметь возможность видеть рейтинг участников
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    -
  steps:
    - Нажать на аватарку в правом верхнем углу
    - В выпадающем списке выбрать "Hall of Flame"
  expected-result: |
    Отображается таблица (топ-лист) участников, отсортированный по убыванию их рейтинга.
    В таблице отображаются столбцы: Player, Rank, Points, Rating, Clan. 

- summary: |
    Проверка просмотра списка существующих задач
  requirement: |
    Пользователь должен иметь возможность видеть существующие задачи
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    -
  steps:
    - Нажать на аватарку в правом верхнем углу
    - В выпадающем списке выбрать "Tasks"
  expected-result: |
    Отображается таблица со списком задач. 
    В таблице отображаются столбцы: id, name, level, tags, origin, state, visibility, updated_at, actions.
    Над табдицей отображаются две кнопки: "Craete new task" и "Task packs".

- summary: |
    Проверка выбора типа звука в настройках
  requirement: |
    Пользователь должен иметь возможность выбрать тип звука
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    Тип звука: "Standart"
  steps:
    - Нажать на аватарку в правом верхнем углу
    - В выпадающем списке выбрать "Settings"
    - В блоке "Select sound type" выбрать тогл со значением "Standart"
    - Создать новую битву
    - Выиграть битву
  expected-result: |
    После победы пользователя проигрывается звук типа "Standart"

- summary: |
    Проверка изменения уровня громкости звука
  requirement: |
    Пользователь должен иметь возможность уровень звука
  prerequisites: |
    Пользователь авторизован в системе. Открыта главная страница https://codebattle.hexlet.io/.
  test-data: |
    Уровень громкости: 70%
  steps:
    - Нажать на аватарку в правом верхнем углу
    - В выпадающем списке выбрать "Settings"
    - В слайдере "Select sound level" выбрать уровень громкости 70%
    - Создать новую битву
    - Проиграть битву
  expected-result: |
    Громкость звуков в приложении изменилась в соответствии с установленным значением.
